# ArrayUtils クラス仕様書

## 概要

ArrayUtils クラスは配列に対する様々な操作を提供する静的メソッドのコレクションです。数値配列の統計処理、ジェネリック配列の操作、データ変換機能を含みます。

## メソッド仕様

### findMax(arr: number[]): number

**機能**: 数値配列の最大値を取得する

**入力パラメータ**:

- `arr`: number[] - 数値の配列

**戻り値**:

- number型 - 配列内の最大値

**制約条件**:

- 配列は空でない必要がある
- 配列の全要素は有効な数値である必要がある

**例外処理**:

- `arr.length === 0` の場合: `Error("Array cannot be empty")` をスロー

---

### findMin(arr: number[]): number

**機能**: 数値配列の最小値を取得する

**入力パラメータ**:

- `arr`: number[] - 数値の配列

**戻り値**:

- number型 - 配列内の最小値

**制約条件**:

- 配列は空でない必要がある
- 配列の全要素は有効な数値である必要がある

**例外処理**:

- `arr.length === 0` の場合: `Error("Array cannot be empty")` をスロー

---

### average(arr: number[]): number

**機能**: 数値配列の平均値を計算する

**入力パラメータ**:

- `arr`: number[] - 数値の配列

**戻り値**:

- number型 - 配列要素の算術平均

**制約条件**:

- 配列は空でない必要がある
- 配列の全要素は有効な数値である必要がある

**例外処理**:

- `arr.length === 0` の場合: `Error("Array cannot be empty")` をスロー

**計算方法**:

- (全要素の合計) ÷ (要素数)

---

### removeDuplicates<T>(arr: T[]): T[]

**機能**: 配列から重複要素を除去し、ユニークな要素のみの配列を返す

**入力パラメータ**:

- `arr`: T[] - 任意の型の配列

**戻り値**:

- T[] - 重複が除去された新しい配列

**制約条件**:

- 入力配列に制限なし（空配列も許可）
- 要素の順序は最初に出現した順序で保持される

**例外処理**:

- なし

---

### chunk<T>(arr: T[], size: number): T[][]

**機能**: 配列を指定されたサイズの小配列に分割する

**入力パラメータ**:

- `arr`: T[] - 分割する配列
- `size`: number - 各チャンクのサイズ

**戻り値**:

- T[][] - 分割された配列の配列

**制約条件**:

- sizeは正の整数である必要がある
- 入力配列は空でも可

**例外処理**:

- `size <= 0` の場合: `Error("Chunk size must be positive")` をスロー

**動作**:

- 最後のチャンクは指定サイズより小さくなる可能性がある

---

### flatten<T>(arr: (T | T[])[]): T[]

**機能**: ネストした配列を1次元に平坦化する

**入力パラメータ**:

- `arr`: (T | T[])[] - 平坦化する配列（1レベルのネストのみ）

**戻り値**:

- T[] - 平坦化された配列

**制約条件**:

- 1レベルのネストのみサポート
- 入力配列は空でも可

**例外処理**:

- なし

---

### sortByProperty<T>(arr: T[], property: keyof T, ascending: boolean = true): T[]

**機能**: オブジェクト配列を指定されたプロパティでソートする

**入力パラメータ**:

- `arr`: T[] - ソートするオブジェクトの配列
- `property`: keyof T - ソートキーとなるプロパティ名
- `ascending`: boolean - ソート順（デフォルト: true = 昇順）

**戻り値**:

- T[] - ソートされた新しい配列

**制約条件**:

- 全オブジェクトが指定されたプロパティを持つ必要がある
- プロパティの値は比較可能である必要がある

**例外処理**:

- なし

**動作**:

- 元の配列は変更されない（新しい配列を返す）
- ascending = true: 昇順、false: 降順

## テスト観点

### 同値分割法

- **正常値**:
  - 有効な数値配列（正数、負数、ゼロを含む）
  - 有効なサイズ値（正の整数）
  - 有効なオブジェクト配列
- **異常値**:
  - 空配列（該当メソッドで）
  - 無効なサイズ値（0以下）

### 境界値分析

- **配列サイズ**:
  - 空配列（length = 0）
  - 単一要素配列（length = 1）
  - 大きな配列
- **チャンクサイズ**:
  - 最小値（1）
  - 配列長と同じ
  - 配列長より大きい
- **数値範囲**:
  - 最大値、最小値
  - 特殊値（Infinity, -Infinity, NaN）

### エラーケース

- **空配列エラー**: findMax, findMin, average
- **無効サイズエラー**: chunk
- **型不一致**: 不適切な型の配列要素

### データパターン

- **重複データ**: removeDuplicates テスト用
- **ネストデータ**: flatten テスト用
- **オブジェクト配列**: sortByProperty テスト用
- **混合データ型**: ジェネリック型テスト用
